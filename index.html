<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
                           integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
                           crossorigin=""/>

    <link rel="stylesheet" type="text/css" href="css/main.css"/>
  </head>
  <body>

    <div id="map" style="display:none"></div>

    <p>Total distance: <span id="totalDistance"></span> km</p>



    <label for="gpxfile">Select GPX file:</label>
    <input type="file"
           id="gpxfile" name="gpxfile"
                        accept=".gpx,.GPX" onchange="routeShare.loadTrack(this)">
    <p id="shortlink">
    <button id="tinyURLButton" onclick="routeShare.createTinyURL()" style="display:none">Create short link</button>
    </p>
    <script src="js/GPXParser.min.js"></script>
    <!-- Make sure you put this AFTER Leaflet's CSS -->
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
            integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
            crossorigin=""></script>

    <script src='https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/Leaflet.fullscreen.min.js'></script>
    <link href='https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/leaflet.fullscreen.css' rel='stylesheet' />

    <script src="js/GDouglasPeuker.js"></script>
    <script src="js/lzw.js"></script>
    <script src="js/route-share.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        routeShare.initialize()
        routeShare.setStateFromURL()
      })
      window.onpopstate = function(e){
        routeShare.setStateFromURL()
      };
    </script>

  </body>

</html>
